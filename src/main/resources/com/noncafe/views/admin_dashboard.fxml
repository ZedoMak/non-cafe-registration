<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<BorderPane prefHeight="750.0" prefWidth="1200.0" stylesheets="@../views/css/styles.css" xmlns="http://javafx.com/javafx/19" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.noncafe.controller.AdminController">

    <top>
        <HBox alignment="CENTER_LEFT" prefHeight="70.0" spacing="20" styleClass="sidebar">
            <padding><Insets left="20" right="20"/></padding>
            <Label text="CAMPUS ADMIN PANEL" textFill="WHITE"><font><Font name="System Bold" size="22.0"/></font></Label>
            <Label fx:id="campusLabel" text="CAMPUS" textFill="#bdc3c7"><font><Font size="18.0"/></font></Label>
            <Region HBox.hgrow="ALWAYS"/>
            <Label fx:id="adminNameLabel" text="User" textFill="WHITE"/>
            <Button text="Logout" onAction="#onLogout" styleClass="button-danger"/>
        </HBox>
    </top>

    <center>
        <HBox spacing="20" style="-fx-padding: 20;">
            <VBox spacing="20" HBox.hgrow="ALWAYS">
                <HBox spacing="15">
                    <VBox styleClass="card" prefWidth="200"><Label text="Budget"/><Label fx:id="budgetLabel" styleClass="metric-value"/></VBox>
                    <VBox styleClass="card" prefWidth="150"><Label text="Total Students"/><Label fx:id="registeredCountLabel" styleClass="metric-value"/></VBox>
                    <VBox styleClass="card" prefWidth="150"><Label text="Pending"/><Label fx:id="pendingCountLabel" styleClass="metric-value" textFill="#f39c12"/></VBox>
                    <VBox styleClass="card" prefWidth="150"><Label text="Approved"/><Label fx:id="approvedCountLabel" styleClass="metric-value" textFill="#27ae60"/></VBox>
                </HBox>

                <VBox styleClass="card" VBox.vgrow="ALWAYS" spacing="10">
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label text="Student Management" styleClass="sub-header"/>
                        <Region HBox.hgrow="ALWAYS"/>
                        <ComboBox fx:id="filterComboBox" prefWidth="150"/>
                        <Button text="Approve All Pending" onAction="#onApproveAll" styleClass="button-success"/>
                    </HBox>

                    <TableView fx:id="studentsTable" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="colName" text="Name" prefWidth="200"/>
                            <TableColumn fx:id="colID" text="ID" prefWidth="100"/>
                            <TableColumn fx:id="colDept" text="Dept" prefWidth="100"/>
                            <TableColumn fx:id="colStatus" text="Status" prefWidth="150"/>
                            <TableColumn fx:id="colBalance" text="Balance" prefWidth="100"/>
                        </columns>
                    </TableView>

                    <HBox spacing="10">
                        <Button text="Approve Selected" onAction="#onApproveRegistration" styleClass="button-success"/>
                        <Button text="Reject Selected" onAction="#onRejectRegistration" styleClass="button-warning"/>
                        <Button text="Delete Student" onAction="#onDeleteStudent" styleClass="button-danger"/>
                    </HBox>
                </VBox>
            </VBox>

            <VBox spacing="20" prefWidth="300">
                <VBox styleClass="card" spacing="10">
                    <Label text="Disbursement Cycle" styleClass="sub-header"/>
                    <Label fx:id="disbursementMonthLabel" text="Month: -" style="-fx-font-size: 18; -fx-font-weight: bold;"/>
                    <Label fx:id="disbursementDeadlineLabel" text="Waiting..."/>
                    <Separator/>
                    <Button fx:id="distributeCostSharingBtn" text="INITIATE MONTH 1" onAction="#onDistributeCostSharing" maxWidth="Infinity" styleClass="button-primary"/>
                </VBox>

                <VBox styleClass="card" spacing="10">
                    <Label text="Quick Add" styleClass="sub-header"/>
                    <TextField fx:id="newStudentName" promptText="Name"/>
                    <TextField fx:id="newStudentId" promptText="ID"/>
                    <Button text="Add Student (Dummy)" styleClass="button-primary"/>
                </VBox>
            </VBox>
        </HBox>
    </center>
</BorderPane>